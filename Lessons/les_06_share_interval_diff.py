# ะกัะฐะฒะฝะตะฝะธะต ะดะพะปะตะน
#  ๐ง=  (๐ยฬ_1โ๐ยฬ_2)/โ(๐(1โ๐)(1/๐_1 +1/๐_2 ) ), ะณะดะต ๐=(๐_1+๐_2)/(๐_1+๐_2 )  ,

#  ะัะธัะตัะธะน Z ั ะฟะพะฟัะฐะฒะบะพะน ะะตะนััะฐ ะฝะฐ ะฝะตะฟัะตััะฒะฝะพััั:ย
# ๐ง=(|๐ยฬ_1โ ๐ยฬ_2 |โ 1/2(1/๐_1 +1/๐_2 ))/โ(๐(1โ๐)โ (1/๐_1 +1/๐_2 ))

# ะััั ะดะฒะต ะณััะฟะฟั ัััะดะตะฝัะพะฒ ะพะฑัะตะผะพะผ 56 ะธ 61, ะบะพัะพััะต ัะดะฐัั ะผะตะถะดัะฝะฐัะพะดะฝัะน ัะบะทะฐะผะตะฝ ะฝะฐ ะทะฝะฐะฝะธะต ะธะฝะพัััะฐะฝะฝะพะณะพ ัะทัะบะฐ. 
# ะะฐะบัะธะผะฐะปัะฝะพะต ัะธัะปะพ  ะฑะฐะปะปะพะฒ ะทะฐ ัะตัั 120. ะััะพะบะฐั ะพัะตะฝะบะฐ ััะธัะฐะตััั ะฒััะต 100 ะฑะฐะปะปะพะฒ. 
# ะ ะฟะตัะฒะพะน ะณััะฟะฟะต ะฒััะพะบัั ะพัะตะฝะบั ะฟะพะปััะธะปะธ  7 ัััะดะตะฝัะพะฒ, ะฐ ะฒะพ ะฒัะพัะพะน 22. 
# ะััั ะปะธ ััะฐัะธััะธัะตัะบะธ ะทะฝะฐัะธะผัะต ัะฐะทะปะธัะธั ะฒ ะดะพะปัั ัััะดะตะฝัะพะฒ ััะธั ะดะฒัั ะณััะฟะฟ, ัะดะฐะฒัะธั ัะตัั ะฝะฐ ะฒััะพะบะธะน ะฑะฐะปะป.

import numpy as np

n1, m1, n2, m2 = (56, 7, 61, 22)
p1 = m1 / n1
p2 = m2 / n2
p = (m1 + m2) / (n1 + n2)
z = (abs(p1 - p2) - 0.5 * (1/n1 + 1/n2)) / np.sqrt(p * (1 - p) * (1/n1 + 1/n2))
print(z)

# ะะฝัะตัะฒะฐะป ะดะปั ัะฐะทะฝะพััะธ ะดะพะปะตะน
# ะะฐ ะพะดะฝะพะผ ัะฐะนัะต ะธะท 153 ะฟะพัะตัะธัะตะปะตะน 75  ะพัะพัะผะธะปะธ ะทะฐะบะฐะท, 
# ะฐ ะฝะฐ ะดััะณะพะผ ัะฐะนัะต ะธะท 120 ะฟะพัะตัะธัะตะปะตะน ะทะฐะบะฐะท ะพัะพัะผะธะปะธ 50 ัะตะปะพะฒะตะบ. 
# ะัะตะฝะธัั ั ะฟะพะผะพััั ะดะพะฒะตัะธัะตะปัะฝะพะณะพ ะธะฝัะตัะฒะฐะปะฐ ัะฐะทะฝะพััั ะดะพะปะตะน ะฟะพะบัะฟะฐัะตะปะตะน, ัะพะฒะตััะธะฒัะธั ะฟะพะบัะฟะบั.

n1, m1, n2, m2 = (153, 75, 120, 50)

p1 = m1 / n1
p2 = m2 / n2
p = (m1 + m2) / (n1 + n2)
delta = p1 - p2
sd = np.sqrt(p * (1 - p) * (1/n1 + 1/n2))
z95 = 1.96     # ะธะท ัะฐะฑะปะธัั
ci = (delta - z95 * sd, delta + z95 * sd)
print(ci)
